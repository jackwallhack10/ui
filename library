-- ModernUILib.lua
-- A modern Roblox UI library (self-contained)

local ModernUILib = {}

-- Theme
ModernUILib.Theme = {
    Primary = Color3.fromRGB(40, 40, 50),
    Accent = Color3.fromRGB(0, 170, 255),
    Text = Color3.fromRGB(230, 230, 240),
    Button = Color3.fromRGB(50, 50, 60),
    ButtonHover = Color3.fromRGB(60, 60, 80),
    CornerRadius = UDim.new(0, 8)
}

-- Utility: Add UICorner
local function addCorner(instance, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = radius or ModernUILib.Theme.CornerRadius
    corner.Parent = instance
end

-- Utility: Add UIStroke
local function addStroke(instance, color)
    local stroke = Instance.new("UIStroke")
    stroke.Color = color or ModernUILib.Theme.Accent
    stroke.Thickness = 1.5
    stroke.Parent = instance
end

-- Create a modern frame
function ModernUILib:Frame(props)
    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = self.Theme.Primary
    frame.Size = props.Size or UDim2.new(0, 300, 0, 200)
    frame.Position = props.Position or UDim2.new(0.5, -150, 0.5, -100)
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.BackgroundTransparency = 0
    frame.Parent = props.Parent
    addCorner(frame)
    addStroke(frame)
    return frame
end

-- Create a modern button
function ModernUILib:Button(props)
    local button = Instance.new("TextButton")
    button.BackgroundColor3 = self.Theme.Button
    button.Size = props.Size or UDim2.new(0, 120, 0, 40)
    button.Position = props.Position or UDim2.new(0, 0, 0, 0)
    button.Text = props.Text or "Button"
    button.TextColor3 = self.Theme.Text
    button.Font = Enum.Font.GothamSemibold
    button.TextSize = 18
    button.AutoButtonColor = false
    button.Parent = props.Parent
    addCorner(button)
    addStroke(button, self.Theme.Accent)

    -- Hover effect
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = self.Theme.ButtonHover
    end)
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = self.Theme.Button
    end)

    -- Click callback
    if props.OnClick then
        button.MouseButton1Click:Connect(props.OnClick)
    end

    return button
end

-- Create a modern label
function ModernUILib:Label(props)
    local label = Instance.new("TextLabel")
    label.BackgroundTransparency = 1
    label.Size = props.Size or UDim2.new(1, 0, 0, 30)
    label.Position = props.Position or UDim2.new(0, 0, 0, 0)
    label.Text = props.Text or "Label"
    label.TextColor3 = self.Theme.Text
    label.Font = Enum.Font.Gotham
    label.TextSize = 16
    label.Parent = props.Parent
    return label
end

-- Example usage (auto-create a window with a label and button)
do
    local player = game:GetService("Players").LocalPlayer
    local gui = Instance.new("ScreenGui")
    gui.Name = "ModernUI"
    gui.Parent = player:FindFirstChildOfClass("PlayerGui")

    local frame = ModernUILib:Frame({Parent = gui})
    ModernUILib:Label({Parent = frame, Text = "Welcome!", Position = UDim2.new(0, 0, 0, 10)})
    ModernUILib:Button({
        Parent = frame,
        Text = "Click Me",
        Position = UDim2.new(0, 10, 0, 50),
        OnClick = function()
            pcall(function()
                game.StarterGui:SetCore("SendNotification", {
                    Title = "Modern UI";
                    Text = "Button clicked!";
                    Duration = 2;
                })
            end)
        end
    })
end

return ModernUILib
